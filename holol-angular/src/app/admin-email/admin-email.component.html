

<div  class="h1">List of emails</div>
<div [innerHTML]="alert"></div>

<div class="container">

    <div class="list-group">
        <div *ngFor="let datas of data.info" >
            <div   href="#" class="list-group-item">

                {{datas.name}}   
                
                  <span class="badge"><a  data-toggle="modal" data-target="#{{datas.id}}" href="#{{datas.id}}">Reply</a></span>
                <span class="badge"><a  data-toggle="modal" data-target="#detail{{datas.id}}" href="#detail{{datas.id}}">View</a></span>
                    
            </div>


            <div class="modal fade" id="{{datas.id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">{{datas.message_address}}</h4>
                        </div>
                        <div class="modal-body">
                            <form method="post"   #REPLYForm="ngForm" (ngSubmit) = "Reply(datas.id)">


                                <div class="form-group">
                                    <label for="message" class="col-sm-2 control-label">Message</label>
                                        <div class="col-sm-10">
<textarea required [(ngModel)]="message" name="message" #usermessage="ngModel" class="form-control"  placeholder="Message"  rows="3"  required ></textarea>
<div [hidden]="usermessage.valid || usermessage.pristine"
     class="alert alert-danger">
  Message is required
</div>     </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                          <button class="btn btn-primary notclicked" type="submit" [disabled]="!REPLYForm.form.valid">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default notclicked"  (click)="updatedata()" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="detail{{datas.id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">{{datas.message_address}}</h4>
                        </div>
                        <div class="modal-body">
                            <div class="well">
                                <ul>
                                    <li>From : {{datas.name}} </li>
                                    <li>Subject : {{datas.message_address}}</li>
                                    <li>Email : {{datas.email}}</li>
                                    <li>phone : {{datas.phone}}</li>
                                </ul>

                            </div>
                            <h3>Message Details </h3>
                            <div class="jumbotron">{{datas.message}}</div> 
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>



